
[![Project Status: Active – The project has reached a stable, usable
state and is being actively
developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![Signed
by](https://img.shields.io/badge/Keybase-Verified-brightgreen.svg)](https://keybase.io/hrbrmstr)
![Signed commit
%](https://img.shields.io/badge/Signed_Commits-100%25-lightgrey.svg)
[![R-CMD-check](https://github.com/hrbrmstr/construe/workflows/R-CMD-check/badge.svg)](https://github.com/hrbrmstr/construe/actions?query=workflow%3AR-CMD-check)
[![Linux build
Status](https://travis-ci.org/hrbrmstr/construe.svg?branch=batman)](https://travis-ci.org/hrbrmstr/construe)
[![Windows build
status](https://ci.appveyor.com/api/projects/status/github/hrbrmstr/construe?svg=true)](https://ci.appveyor.com/project/hrbrmstr/construe)
[![Coverage
Status](https://codecov.io/gh/hrbrmstr/construe/branch/batman/graph/badge.svg)](https://codecov.io/gh/hrbrmstr/construe)
![Minimal R
Version](https://img.shields.io/badge/R%3E%3D-3.6.0-blue.svg)
![License](https://img.shields.io/badge/License-MIT-blue.svg)

# construe

HTTP Request, Response and URL Parser

## Description

A simple and fast HTTP request, response and URL parser based on the C++
‘httpparser’ library by Alex Nekipelov
(<https://github.com/nekipelov/httpparser>).

## What’s Inside The Tin

The following functions are implemented:

  - `parse_request`: Parse an HTTP request
  - `parse_response`: Parse an HTTP response
  - `parse_url`: Parse URLs
  - `read_file_raw`: Read in a file, fast and raw

## Installation

``` r
install.packages("construe", repos = c("https://cinc.rud.is", "https://cloud.r-project.org/"))
# or
remotes::install_git("https://git.rud.is/hrbrmstr/construe.git")
# or
remotes::install_git("https://git.sr.ht/~hrbrmstr/construe")
# or
remotes::install_gitlab("hrbrmstr/construe")
# or
remotes::install_bitbucket("hrbrmstr/construe")
# or
remotes::install_github("hrbrmstr/construe")
```

NOTE: To use the ‘remotes’ install options you will need to have the
[{remotes} package](https://github.com/r-lib/remotes) installed.

## Usage

``` r
library(construe)

# current version
packageVersion("construe")
## [1] '0.1.0'
```

### Requests

``` r
paste0(c(
  "GET /uri.cgi HTTP/1.1\r\n",
  "User-Agent: Mozilla/5.0\r\n",
  "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n",
  "Host: 127.0.0.1\r\n", "\r\n"
), collapse = "") -> req

req_raw <- charToRaw(req)

parse_request(req)
## $method
## [1] "GET"
## 
## $uri
## [1] "/uri.cgi"
## 
## $vers_maj
## [1] 1
## 
## $vers_min
## [1] 1
## 
## $keepalive
## [1] TRUE
## 
## $headers
##         name                                                           value
## 1 user-agent                                                     Mozilla/5.0
## 2     accept text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
## 3       host                                                       127.0.0.1
## 
## $content
## raw(0)
## 
## attr(,"class")
## [1] "http_request" "list"

parse_request_raw(req_raw)
## $method
## [1] "GET"
## 
## $uri
## [1] "/uri.cgi"
## 
## $vers_maj
## [1] 1
## 
## $vers_min
## [1] 1
## 
## $keepalive
## [1] TRUE
## 
## $headers
##         name                                                           value
## 1 user-agent                                                     Mozilla/5.0
## 2     accept text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
## 3       host                                                       127.0.0.1
## 
## $content
## raw(0)
## 
## attr(,"class")
## [1] "http_request" "list"

microbenchmark::microbenchmark(
  parse_request = parse_request(req),
  parse_request_raw = parse_request_raw(req_raw)
)
## Unit: microseconds
##               expr     min      lq     mean   median       uq     max neval
##      parse_request 143.761 146.981 157.2440 148.4730 156.0390 347.817   100
##  parse_request_raw 144.301 146.607 154.2909 148.4615 153.3095 436.870   100
```

### Responses

``` r
paste0(c(
  "HTTP/1.1 200 OK\r\n",
  "Server: nginx/1.2.1\r\n",
  "Content-Type: text/html\r\n",
  "Content-Length: 8\r\n",
  "Connection: keep-alive\r\n",
  "\r\n",
  "<html />"
), collapse = "") -> resp

resp_raw <- charToRaw(resp)

parse_response(resp)
## $status_msg
## [1] "OK"
## 
## $status_code
## [1] 200
## 
## $vers_maj
## [1] 1
## 
## $vers_min
## [1] 0
## 
## $keepalive
## [1] TRUE
## 
## $headers
##             name       value
## 1         server nginx/1.2.1
## 2   content-type   text/html
## 3 content-length           8
## 4     connection  keep-alive
## 
## $content
## [1] 3c 68 74 6d 6c 20 2f 3e
## 
## attr(,"class")
## [1] "http_response" "list"

parse_response_raw(resp_raw)
## $status_msg
## [1] "OK"
## 
## $status_code
## [1] 200
## 
## $vers_maj
## [1] 1
## 
## $vers_min
## [1] 0
## 
## $keepalive
## [1] TRUE
## 
## $headers
##             name       value
## 1         server nginx/1.2.1
## 2   content-type   text/html
## 3 content-length           8
## 4     connection  keep-alive
## 
## $content
## [1] 3c 68 74 6d 6c 20 2f 3e
## 
## attr(,"class")
## [1] "http_response" "list"

microbenchmark::microbenchmark(
  parse_response = parse_response(resp),
  parse_response_raw = parse_response_raw(resp_raw)
)
## Unit: microseconds
##                expr     min      lq     mean  median       uq      max neval
##      parse_response 143.922 146.533 171.7301 153.884 178.8870  347.014   100
##  parse_response_raw 143.710 147.404 218.6831 166.167 215.0645 1586.114   100
```

### curl output example

`HEAD` request:

``` r
sys::exec_internal(
  cmd = "curl", 
  args = c("--include", "--head", "--silent", "https://httpbin.org/")
) -> res

rawToChar(res$stdout)
## [1] "HTTP/2 200 \r\ndate: Sun, 30 Aug 2020 14:22:56 GMT\r\ncontent-type: text/html; charset=utf-8\r\ncontent-length: 9593\r\nserver: gunicorn/19.9.0\r\naccess-control-allow-origin: *\r\naccess-control-allow-credentials: true\r\n\r\n"
```

`GET` request:

``` r
sys::exec_internal(
  cmd = "curl", 
  args = c("--include", "--silent", "https://httpbin.org/")
) -> res

parse_response_raw(res$stdout)
## $status_msg
## [1] ""
## 
## $status_code
## [1] 200
## 
## $vers_maj
## [1] 2
## 
## $vers_min
## [1] 0
## 
## $keepalive
## [1] TRUE
## 
## $headers
##                               name                         value
## 1                             date Sun, 30 Aug 2020 14:22:57 GMT
## 2                     content-type      text/html; charset=utf-8
## 3                   content-length                          9593
## 4                           server               gunicorn/19.9.0
## 5      access-control-allow-origin                             *
## 6 access-control-allow-credentials                          true
## 
## $content
##    [1] 3c 21 44 4f 43 54 59 50 45 20 68 74 6d 6c 3e 0a 3c 68 74 6d 6c 20 6c 61 6e 67 3d 22 65 6e 22 3e 0a 0a 3c 68 65 61
##   [39] 64 3e 0a 20 20 20 20 3c 6d 65 74 61 20 63 68 61 72 73 65 74 3d 22 55 54 46 2d 38 22 3e 0a 20 20 20 20 3c 74 69 74
##   [77] 6c 65 3e 68 74 74 70 62 69 6e 2e 6f 72 67 3c 2f 74 69 74 6c 65 3e 0a 20 20 20 20 3c 6c 69 6e 6b 20 68 72 65 66 3d
##  [115] 22 68 74 74 70 73 3a 2f 2f 66 6f 6e 74 73 2e 67 6f 6f 67 6c 65 61 70 69 73 2e 63 6f 6d 2f 63 73 73 3f 66 61 6d 69
##  [153] 6c 79 3d 4f 70 65 6e 2b 53 61 6e 73 3a 34 30 30 2c 37 30 30 7c 53 6f 75 72 63 65 2b 43 6f 64 65 2b 50 72 6f 3a 33
##  [191] 30 30 2c 36 30 30 7c 54 69 74 69 6c 6c 69 75 6d 2b 57 65 62 3a 34 30 30 2c 36 30 30 2c 37 30 30 22 0a 20 20 20 20
##  [229] 20 20 20 20 72 65 6c 3d 22 73 74 79 6c 65 73 68 65 65 74 22 3e 0a 20 20 20 20 3c 6c 69 6e 6b 20 72 65 6c 3d 22 73
##  [267] 74 79 6c 65 73 68 65 65 74 22 20 74 79 70 65 3d 22 74 65 78 74 2f 63 73 73 22 20 68 72 65 66 3d 22 2f 66 6c 61 73
##  [305] 67 67 65 72 5f 73 74 61 74 69 63 2f 73 77 61 67 67 65 72 2d 75 69 2e 63 73 73 22 3e 0a 20 20 20 20 3c 6c 69 6e 6b
##  [343] 20 72 65 6c 3d 22 69 63 6f 6e 22 20 74 79 70 65 3d 22 69 6d 61 67 65 2f 70 6e 67 22 20 68 72 65 66 3d 22 2f 73 74
##  [381] 61 74 69 63 2f 66 61 76 69 63 6f 6e 2e 69 63 6f 22 20 73 69 7a 65 73 3d 22 36 34 78 36 34 20 33 32 78 33 32 20 31
##  [419] 36 78 31 36 22 20 2f 3e 0a 20 20 20 20 3c 73 74 79 6c 65 3e 0a 20 20 20 20 20 20 20 20 68 74 6d 6c 20 7b 0a 20 20
##  [457] 20 20 20 20 20 20 20 20 20 20 62 6f 78 2d 73 69 7a 69 6e 67 3a 20 62 6f 72 64 65 72 2d 62 6f 78 3b 0a 20 20 20 20
##  [495] 20 20 20 20 20 20 20 20 6f 76 65 72 66 6c 6f 77 3a 20 2d 6d 6f 7a 2d 73 63 72 6f 6c 6c 62 61 72 73 2d 76 65 72 74
##  [533] 69 63 61 6c 3b 0a 20 20 20 20 20 20 20 20 20 20 20 20 6f 76 65 72 66 6c 6f 77 2d 79 3a 20 73 63 72 6f 6c 6c 3b 0a
##  [571] 20 20 20 20 20 20 20 20 7d 0a 0a 20 20 20 20 20 20 20 20 2a 2c 0a 20 20 20 20 20 20 20 20 2a 3a 62 65 66 6f 72 65
##  [609] 2c 0a 20 20 20 20 20 20 20 20 2a 3a 61 66 74 65 72 20 7b 0a 20 20 20 20 20 20 20 20 20 20 20 20 62 6f 78 2d 73 69
##  [647] 7a 69 6e 67 3a 20 69 6e 68 65 72 69 74 3b 0a 20 20 20 20 20 20 20 20 7d 0a 0a 20 20 20 20 20 20 20 20 62 6f 64 79
##  [685] 20 7b 0a 20 20 20 20 20 20 20 20 20 20 20 20 6d 61 72 67 69 6e 3a 20 30 3b 0a 20 20 20 20 20 20 20 20 20 20 20 20
##  [723] 62 61 63 6b 67 72 6f 75 6e 64 3a 20 23 66 61 66 61 66 61 3b 0a 20 20 20 20 20 20 20 20 7d 0a 20 20 20 20 3c 2f 73
##  [761] 74 79 6c 65 3e 0a 3c 2f 68 65 61 64 3e 0a 0a 3c 62 6f 64 79 3e 0a 20 20 20 20 3c 61 20 68 72 65 66 3d 22 68 74 74
##  [799] 70 73 3a 2f 2f 67 69 74 68 75 62 2e 63 6f 6d 2f 72 65 71 75 65 73 74 73 2f 68 74 74 70 62 69 6e 22 20 63 6c 61 73
##  [837] 73 3d 22 67 69 74 68 75 62 2d 63 6f 72 6e 65 72 22 20 61 72 69 61 2d 6c 61 62 65 6c 3d 22 56 69 65 77 20 73 6f 75
##  [875] 72 63 65 20 6f 6e 20 47 69 74 68 75 62 22 3e 0a 20 20 20 20 20 20 20 20 3c 73 76 67 20 77 69 64 74 68 3d 22 38 30
##  [913] 22 20 68 65 69 67 68 74 3d 22 38 30 22 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 35 30 20 32 35 30 22 20 73 74
##  [951] 79 6c 65 3d 22 66 69 6c 6c 3a 23 31 35 31 35 31 33 3b 20 63 6f 6c 6f 72 3a 23 66 66 66 3b 20 70 6f 73 69 74 69 6f
##  [989] 6e 3a 20 61 62 73 6f 6c 75 74 65 3b 20 74 6f 70 3a 20 30 3b 20 62 6f 72 64 65 72 3a 20 30 3b 20 72 69 67 68 74 3a
## [1027] 20 30 3b 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 61 72 69 61 2d 68 69 64 64 65 6e 3d 22 74 72 75 65 22 3e 0a 20
## [1065] 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 30 2c 30 20 4c 31 31 35 2c 31 31 35 20 4c 31 33 30
## [1103] 2c 31 31 35 20 4c 31 34 32 2c 31 34 32 20 4c 32 35 30 2c 32 35 30 20 4c 32 35 30 2c 30 20 5a 22 3e 3c 2f 70 61 74
## [1141] 68 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 32 38 2e 33 2c 31 30 39 2e 30 20 43
## [1179] 31 31 33 2e 38 2c 39 39 2e 37 20 31 31 39 2e 30 2c 38 39 2e 36 20 31 31 39 2e 30 2c 38 39 2e 36 20 43 31 32 32 2e
## [1217] 30 2c 38 32 2e 37 20 31 32 30 2e 35 2c 37 38 2e 36 20 31 32 30 2e 35 2c 37 38 2e 36 20 43 31 31 39 2e 32 2c 37 32
## [1255] 2e 30 20 31 32 33 2e 34 2c 37 36 2e 33 20 31 32 33 2e 34 2c 37 36 2e 33 20 43 31 32 37 2e 33 2c 38 30 2e 39 20 31
## [1293] 32 35 2e 35 2c 38 37 2e 33 20 31 32 35 2e 35 2c 38 37 2e 33 20 43 31 32 32 2e 39 2c 39 37 2e 36 20 31 33 30 2e 36
## [1331] 2c 31 30 31 2e 39 20 31 33 34 2e 34 2c 31 30 33 2e 32 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 66 69
## [1369] 6c 6c 3d 22 63 75 72 72 65 6e 74 43 6f 6c 6f 72 22 20 73 74 79 6c 65 3d 22 74 72 61 6e 73 66 6f 72 6d 2d 6f 72 69
## [1407] 67 69 6e 3a 20 31 33 30 70 78 20 31 30 36 70 78 3b 22 20 63 6c 61 73 73 3d 22 6f 63 74 6f 2d 61 72 6d 22 3e 3c 2f
## [1445] 70 61 74 68 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 31 35 2e 30 2c 31 31 35 2e
## [1483] 30 20 43 31 31 34 2e 39 2c 31 31 35 2e 31 20 31 31 38 2e 37 2c 31 31 36 2e 35 20 31 31 39 2e 38 2c 31 31 35 2e 34
## [1521] 20 4c 31 33 33 2e 37 2c 31 30 31 2e 36 20 43 31 33 36 2e 39 2c 39 39 2e 32 20 31 33 39 2e 39 2c 39 38 2e 34 20 31
## [1559] 34 32 2e 32 2c 39 38 2e 36 20 43 31 33 33 2e 38 2c 38 38 2e 30 20 31 32 37 2e 35 2c 37 34 2e 34 20 31 34 33 2e 38
## [1597] 2c 35 38 2e 30 20 43 31 34 38 2e 35 2c 35 33 2e 34 20 31 35 34 2e 30 2c 35 31 2e 32 20 31 35 39 2e 37 2c 35 31 2e
## [1635] 30 20 43 31 36 30 2e 33 2c 34 39 2e 34 20 31 36 33 2e 32 2c 34 33 2e 36 20 31 37 31 2e 34 2c 34 30 2e 31 20 43 31
## [1673] 37 31 2e 34 2c 34 30 2e 31 20 31 37 36 2e 31 2c 34 32 2e 35 20 31 37 38 2e 38 2c 35 36 2e 32 20 43 31 38 33 2e 31
## [1711] 2c 35 38 2e 36 20 31 38 37 2e 32 2c 36 31 2e 38 20 31 39 30 2e 39 2c 36 35 2e 34 20 43 31 39 34 2e 35 2c 36 39 2e
## [1749] 30 20 31 39 37 2e 37 2c 37 33 2e 32 20 32 30 30 2e 31 2c 37 37 2e 36 20 43 32 31 33 2e 38 2c 38 30 2e 32 20 32 31
## [1787] 36 2e 33 2c 38 34 2e 39 20 32 31 36 2e 33 2c 38 34 2e 39 20 43 32 31 32 2e 37 2c 39 33 2e 31 20 32 30 36 2e 39 2c
## [1825] 39 36 2e 30 20 32 30 35 2e 34 2c 39 36 2e 36 20 43 32 30 35 2e 31 2c 31 30 32 2e 34 20 32 30 33 2e 30 2c 31 30 37
## [1863] 2e 38 20 31 39 38 2e 33 2c 31 31 32 2e 35 20 43 31 38 31 2e 39 2c 31 32 38 2e 39 20 31 36 38 2e 33 2c 31 32 32 2e
## [1901] 35 20 31 35 37 2e 37 2c 31 31 34 2e 31 20 43 31 35 37 2e 39 2c 31 31 36 2e 39 20 31 35 36 2e 37 2c 31 32 30 2e 39
## [1939] 20 31 35 32 2e 37 2c 31 32 34 2e 39 20 4c 31 34 31 2e 30 2c 31 33 36 2e 35 20 43 31 33 39 2e 38 2c 31 33 37 2e 37
## [1977] 20 31 34 31 2e 36 2c 31 34 31 2e 39 20 31 34 31 2e 38 2c 31 34 31 2e 38 20 5a 22 0a 20 20 20 20 20 20 20 20 20 20
## [2015] 20 20 20 20 20 20 66 69 6c 6c 3d 22 63 75 72 72 65 6e 74 43 6f 6c 6f 72 22 20 63 6c 61 73 73 3d 22 6f 63 74 6f 2d
## [2053] 62 6f 64 79 22 3e 3c 2f 70 61 74 68 3e 0a 20 20 20 20 20 20 20 20 3c 2f 73 76 67 3e 0a 20 20 20 20 3c 2f 61 3e 0a
## [2091] 20 20 20 20 3c 73 76 67 20 78 6d 6c 6e 73 3d 22 68 74 74 70 3a 2f 2f 77 77 77 2e 77 33 2e 6f 72 67 2f 32 30 30 30
## [2129] 2f 73 76 67 22 20 78 6d 6c 6e 73 3a 78 6c 69 6e 6b 3d 22 68 74 74 70 3a 2f 2f 77 77 77 2e 77 33 2e 6f 72 67 2f 31
## [2167] 39 39 39 2f 78 6c 69 6e 6b 22 20 73 74 79 6c 65 3d 22 70 6f 73 69 74 69 6f 6e 3a 61 62 73 6f 6c 75 74 65 3b 77 69
## [2205] 64 74 68 3a 30 3b 68 65 69 67 68 74 3a 30 22 3e 0a 20 20 20 20 20 20 20 20 3c 64 65 66 73 3e 0a 20 20 20 20 20 20
## [2243] 20 20 20 20 20 20 3c 73 79 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 30 20 32 30 22 20 69 64 3d 22
## [2281] 75 6e 6c 6f 63 6b 65 64 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31
## [2319] 35 2e 38 20 38 48 31 34 56 35 2e 36 43 31 34 20 32 2e 37 30 33 20 31 32 2e 36 36 35 20 31 20 31 30 20 31 20 37 2e
## [2357] 33 33 34 20 31 20 36 20 32 2e 37 30 33 20 36 20 35 2e 36 56 36 68 32 76 2d 2e 38 30 31 43 38 20 33 2e 37 35 34 20
## [2395] 38 2e 37 39 37 20 33 20 31 30 20 33 63 31 2e 32 30 33 20 30 20 32 20 2e 37 35 34 20 32 20 32 2e 31 39 39 56 38 48
## [2433] 34 63 2d 2e 35 35 33 20 30 2d 31 20 2e 36 34 36 2d 31 20 31 2e 31 39 39 56 31 37 63 30 20 2e 35 34 39 2e 34 32 38
## [2471] 20 31 2e 31 33 39 2e 39 35 31 20 31 2e 33 30 37 6c 31 2e 31 39 37 2e 33 38 37 43 35 2e 36 37 32 20 31 38 2e 38 36
## [2509] 31 20 36 2e 35 35 20 31 39 20 37 2e 31 20 31 39 68 35 2e 38 63 2e 35 34 39 20 30 20 31 2e 34 32 38 2d 2e 31 33 39
## [2547] 20 31 2e 39 35 31 2d 2e 33 30 37 6c 31 2e 31 39 36 2d 2e 33 38 37 63 2e 35 32 34 2d 2e 31 36 37 2e 39 35 33 2d 2e
## [2585] 37 35 37 2e 39 35 33 2d 31 2e 33 30 36 56 39 2e 31 39 39 43 31 37 20 38 2e 36 34 36 20 31 36 2e 33 35 32 20 38 20
## [2623] 31 35 2e 38 20 38 7a 22 3e 3c 2f 70 61 74 68 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c 3e
## [2661] 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 79 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 30 20
## [2699] 32 30 22 20 69 64 3d 22 6c 6f 63 6b 65 64 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68
## [2737] 20 64 3d 22 4d 31 35 2e 38 20 38 48 31 34 56 35 2e 36 43 31 34 20 32 2e 37 30 33 20 31 32 2e 36 36 35 20 31 20 31
## [2775] 30 20 31 20 37 2e 33 33 34 20 31 20 36 20 32 2e 37 30 33 20 36 20 35 2e 36 56 38 48 34 63 2d 2e 35 35 33 20 30 2d
## [2813] 31 20 2e 36 34 36 2d 31 20 31 2e 31 39 39 56 31 37 63 30 20 2e 35 34 39 2e 34 32 38 20 31 2e 31 33 39 2e 39 35 31
## [2851] 20 31 2e 33 30 37 6c 31 2e 31 39 37 2e 33 38 37 43 35 2e 36 37 32 20 31 38 2e 38 36 31 20 36 2e 35 35 20 31 39 20
## [2889] 37 2e 31 20 31 39 68 35 2e 38 63 2e 35 34 39 20 30 20 31 2e 34 32 38 2d 2e 31 33 39 20 31 2e 39 35 31 2d 2e 33 30
## [2927] 37 6c 31 2e 31 39 36 2d 2e 33 38 37 63 2e 35 32 34 2d 2e 31 36 37 2e 39 35 33 2d 2e 37 35 37 2e 39 35 33 2d 31 2e
## [2965] 33 30 36 56 39 2e 31 39 39 43 31 37 20 38 2e 36 34 36 20 31 36 2e 33 35 32 20 38 20 31 35 2e 38 20 38 7a 4d 31 32
## [3003] 20 38 48 38 56 35 2e 31 39 39 43 38 20 33 2e 37 35 34 20 38 2e 37 39 37 20 33 20 31 30 20 33 63 31 2e 32 30 33 20
## [3041] 30 20 32 20 2e 37 35 34 20 32 20 32 2e 31 39 39 56 38 7a 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2f
## [3079] 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c
## [3117] 73 79 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 30 20 32 30 22 20 69 64 3d 22 63 6c 6f 73 65 22 3e
## [3155] 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 34 2e 33 34 38 20 31 34 2e 38
## [3193] 34 39 63 2d 2e 34 36 39 2e 34 36 39 2d 31 2e 32 32 39 2e 34 36 39 2d 31 2e 36 39 37 20 30 4c 31 30 20 31 31 2e 38
## [3231] 31 39 6c 2d 32 2e 36 35 31 20 33 2e 30 32 39 63 2d 2e 34 36 39 2e 34 36 39 2d 31 2e 32 32 39 2e 34 36 39 2d 31 2e
## [3269] 36 39 37 20 30 2d 2e 34 36 39 2d 2e 34 36 39 2d 2e 34 36 39 2d 31 2e 32 32 39 20 30 2d 31 2e 36 39 37 6c 32 2e 37
## [3307] 35 38 2d 33 2e 31 35 2d 32 2e 37 35 39 2d 33 2e 31 35 32 63 2d 2e 34 36 39 2d 2e 34 36 39 2d 2e 34 36 39 2d 31 2e
## [3345] 32 32 38 20 30 2d 31 2e 36 39 37 2e 34 36 39 2d 2e 34 36 39 20 31 2e 32 32 38 2d 2e 34 36 39 20 31 2e 36 39 37 20
## [3383] 30 4c 31 30 20 38 2e 31 38 33 6c 32 2e 36 35 31 2d 33 2e 30 33 31 63 2e 34 36 39 2d 2e 34 36 39 20 31 2e 32 32 38
## [3421] 2d 2e 34 36 39 20 31 2e 36 39 37 20 30 20 2e 34 36 39 2e 34 36 39 2e 34 36 39 20 31 2e 32 32 39 20 30 20 31 2e 36
## [3459] 39 37 6c 2d 32 2e 37 35 38 20 33 2e 31 35 32 20 32 2e 37 35 38 20 33 2e 31 35 63 2e 34 36 39 2e 34 36 39 2e 34 36
## [3497] 39 20 31 2e 32 32 39 20 30 20 31 2e 36 39 38 7a 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2f 3e 0a 20
## [3535] 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 79 6d
## [3573] 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 30 20 32 30 22 20 69 64 3d 22 6c 61 72 67 65 2d 61 72 72 6f
## [3611] 77 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 33 2e 32 35 20 31 30
## [3649] 4c 36 2e 31 30 39 20 32 2e 35 38 63 2d 2e 32 36 38 2d 2e 32 37 2d 2e 32 36 38 2d 2e 37 30 37 20 30 2d 2e 39 37 39
## [3687] 2e 32 36 38 2d 2e 32 37 2e 37 30 31 2d 2e 32 37 2e 39 36 39 20 30 6c 37 2e 38 33 20 37 2e 39 30 38 63 2e 32 36 38
## [3725] 2e 32 37 31 2e 32 36 38 2e 37 30 39 20 30 20 2e 39 37 39 6c 2d 37 2e 38 33 20 37 2e 39 30 38 63 2d 2e 32 36 38 2e
## [3763] 32 37 31 2d 2e 37 30 31 2e 32 37 2d 2e 39 36 39 20 30 2d 2e 32 36 38 2d 2e 32 36 39 2d 2e 32 36 38 2d 2e 37 30 37
## [3801] 20 30 2d 2e 39 37 39 4c 31 33 2e 32 35 20 31 30 7a 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2f 3e 0a
## [3839] 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 79
## [3877] 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 30 20 32 30 22 20 69 64 3d 22 6c 61 72 67 65 2d 61 72 72
## [3915] 6f 77 2d 64 6f 77 6e 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 37
## [3953] 2e 34 31 38 20 36 2e 31 30 39 63 2e 32 37 32 2d 2e 32 36 38 2e 37 30 39 2d 2e 32 36 38 2e 39 37 39 20 30 73 2e 32
## [3991] 37 31 2e 37 30 31 20 30 20 2e 39 36 39 6c 2d 37 2e 39 30 38 20 37 2e 38 33 63 2d 2e 32 37 2e 32 36 38 2d 2e 37 30
## [4029] 37 2e 32 36 38 2d 2e 39 37 39 20 30 6c 2d 37 2e 39 30 38 2d 37 2e 38 33 63 2d 2e 32 37 2d 2e 32 36 38 2d 2e 32 37
## [4067] 2d 2e 37 30 31 20 30 2d 2e 39 36 39 2e 32 37 31 2d 2e 32 36 38 2e 37 30 39 2d 2e 32 36 38 2e 39 37 39 20 30 4c 31
## [4105] 30 20 31 33 2e 32 35 6c 37 2e 34 31 38 2d 37 2e 31 34 31 7a 22 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [4143] 2f 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c 3e 0a 0a 0a 20 20 20 20 20 20 20 20 20 20 20
## [4181] 20 3c 73 79 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 34 20 32 34 22 20 69 64 3d 22 6a 75 6d 70 2d
## [4219] 74 6f 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74 68 20 64 3d 22 4d 31 39 20 37 76 34 48
## [4257] 35 2e 38 33 6c 33 2e 35 38 2d 33 2e 35 39 4c 38 20 36 6c 2d 36 20 36 20 36 20 36 20 31 2e 34 31 2d 31 2e 34 31 4c
## [4295] 35 2e 38 33 20 31 33 48 32 31 56 37 7a 22 20 2f 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c
## [4333] 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 79 6d 62 6f 6c 20 76 69 65 77 42 6f 78 3d 22 30 20 30 20 32 34
## [4371] 20 32 34 22 20 69 64 3d 22 65 78 70 61 6e 64 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 61 74
## [4409] 68 20 64 3d 22 4d 31 30 20 31 38 68 34 76 2d 32 68 2d 34 76 32 7a 4d 33 20 36 76 32 68 31 38 56 36 48 33 7a 6d 33
## [4447] 20 37 68 31 32 76 2d 32 48 36 76 32 7a 22 20 2f 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 79 6d 62 6f 6c
## [4485] 3e 0a 0a 20 20 20 20 20 20 20 20 3c 2f 64 65 66 73 3e 0a 20 20 20 20 3c 2f 73 76 67 3e 0a 0a 0a 20 20 20 20 3c 64
## [4523] 69 76 20 69 64 3d 22 73 77 61 67 67 65 72 2d 75 69 22 3e 0a 20 20 20 20 20 20 20 20 3c 64 69 76 20 64 61 74 61 2d
## [4561] 72 65 61 63 74 72 6f 6f 74 3d 22 22 20 63 6c 61 73 73 3d 22 73 77 61 67 67 65 72 2d 75 69 22 3e 0a 20 20 20 20 20
## [4599] 20 20 20 20 20 20 20 3c 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 20 63 6c 61 73
## [4637] 73 3d 22 69 6e 66 6f 72 6d 61 74 69 6f 6e 2d 63 6f 6e 74 61 69 6e 65 72 20 77 72 61 70 70 65 72 22 3e 0a 20 20 20
## [4675] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 65 63 74 69 6f 6e 20 63 6c 61 73 73 3d 22 62 6c 6f 63 6b
## [4713] 20 63 6f 6c 2d 31 32 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 64 69 76
## [4751] 20 63 6c 61 73 73 3d 22 69 6e 66 6f 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [4789] 20 20 20 20 20 3c 68 67 72 6f 75 70 20 63 6c 61 73 73 3d 22 6d 61 69 6e 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20
## [4827] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 68 32 20 63 6c 61 73 73 3d 22 74 69 74 6c 65 22
## [4865] 3e 68 74 74 70 62 69 6e 2e 6f 72 67 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [4903] 20 20 20 20 20 20 20 20 20 20 20 3c 73 6d 61 6c 6c 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [4941] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 72 65 20 63 6c 61 73 73 3d 22 76 65 72 73 69
## [4979] 6f 6e 22 3e 30 2e 39 2e 32 3c 2f 70 72 65 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5017] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 6d 61 6c 6c 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5055] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 68 32 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5093] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 72 65 20 63 6c 61 73 73 3d 22 62 61 73 65 2d 75 72 6c 22
## [5131] 3e 5b 20 42 61 73 65 20 55 52 4c 3a 20 68 74 74 70 62 69 6e 2e 6f 72 67 2f 20 5d 3c 2f 70 72 65 3e 0a 20 20 20 20
## [5169] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 68 67 72 6f 75 70 3e 0a 20 20 20 20
## [5207] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 20 63 6c 61 73 73 3d 22 64 65
## [5245] 73 63 72 69 70 74 69 6f 6e 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5283] 20 20 20 20 20 20 3c 64 69 76 20 63 6c 61 73 73 3d 22 6d 61 72 6b 64 6f 77 6e 22 3e 0a 20 20 20 20 20 20 20 20 20
## [5321] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 70 3e 41 20 73 69 6d 70 6c 65
## [5359] 20 48 54 54 50 20 52 65 71 75 65 73 74 20 26 61 6d 70 3b 20 52 65 73 70 6f 6e 73 65 20 53 65 72 76 69 63 65 2e 0a
## [5397] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5435] 20 20 3c 62 72 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5473] 20 20 20 20 20 20 20 20 20 3c 62 72 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5511] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 62 3e 52 75 6e 20 6c 6f 63 61 6c 6c 79 3a 20 3c 2f 62 3e 0a 20
## [5549] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5587] 20 3c 63 6f 64 65 3e 24 20 64 6f 63 6b 65 72 20 72 75 6e 20 2d 70 20 38 30 3a 38 30 20 6b 65 6e 6e 65 74 68 72 65
## [5625] 69 74 7a 2f 68 74 74 70 62 69 6e 3c 2f 63 6f 64 65 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5663] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 70 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5701] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5739] 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5777] 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5815] 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5853] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 61 20 68 72 65 66 3d 22 68 74 74 70 73 3a 2f 2f 6b 65 6e 6e 65 74 68
## [5891] 72 65 69 74 7a 2e 6f 72 67 22 20 74 61 72 67 65 74 3d 22 5f 62 6c 61 6e 6b 22 3e 74 68 65 20 64 65 76 65 6c 6f 70
## [5929] 65 72 20 2d 20 57 65 62 73 69 74 65 3c 2f 61 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [5967] 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [6005] 20 20 20 20 20 20 20 20 20 20 20 20 3c 61 20 68 72 65 66 3d 22 6d 61 69 6c 74 6f 3a 6d 65 40 6b 65 6e 6e 65 74 68
## [6043] 72 65 69 74 7a 2e 6f 72 67 22 3e 53 65 6e 64 20 65 6d 61 69 6c 20 74 6f 20 74 68 65 20 64 65 76 65 6c 6f 70 65 72
## [6081] 3c 2f 61 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76
## [6119] 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 20
## [6157] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 21 2d 2d 20 41 44 44 53 20 54 48 45 20 4c 4f 41 44 45
## [6195] 52 20 53 50 49 4e 4e 45 52 20 2d 2d 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [6233] 3c 64 69 76 20 63 6c 61 73 73 3d 22 6c 6f 61 64 69 6e 67 2d 63 6f 6e 74 61 69 6e 65 72 22 3e 0a 20 20 20 20 20 20
## [6271] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 20 63 6c 61 73 73 3d 22 6c 6f 61 64
## [6309] 69 6e 67 22 3e 3c 2f 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f
## [6347] 64 69 76 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 65 63 74 69 6f 6e 3e 0a 20
## [6385] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69
## [6423] 76 3e 0a 20 20 20 20 20 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 3c 2f 64 69 76 3e 0a 0a 0a 20 20 20 20 3c 64 69
## [6461] 76 20 63 6c 61 73 73 3d 27 73 77 61 67 67 65 72 2d 75 69 27 3e 0a 20 20 20 20 20 20 20 20 3c 64 69 76 20 63 6c 61
## [6499] 73 73 3d 22 77 72 61 70 70 65 72 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 65 63 74 69 6f 6e 20 63 6c 61
## [6537] 73 73 3d 22 63 6c 65 61 72 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 73 70 61 6e 20 73 74 79 6c
## [6575] 65 3d 22 66 6c 6f 61 74 3a 20 72 69 67 68 74 3b 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [6613] 20 5b 50 6f 77 65 72 65 64 20 62 79 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 61 20 74 61
## [6651] 72 67 65 74 3d 22 5f 62 6c 61 6e 6b 22 20 68 72 65 66 3d 22 68 74 74 70 73 3a 2f 2f 67 69 74 68 75 62 2e 63 6f 6d
## [6689] 2f 72 6f 63 68 61 63 62 72 75 6e 6f 2f 66 6c 61 73 67 67 65 72 22 3e 46 6c 61 73 67 67 65 72 3c 2f 61 3e 5d 0a 20
## [6727] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 62 72 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [6765] 20 20 3c 2f 73 70 61 6e 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 73 65 63 74 69 6f 6e 3e 0a 20 20 20 20 20
## [6803] 20 20 20 3c 2f 64 69 76 3e 0a 20 20 20 20 3c 2f 64 69 76 3e 0a 0a 0a 0a 20 20 20 20 3c 73 63 72 69 70 74 20 73 72
## [6841] 63 3d 22 2f 66 6c 61 73 67 67 65 72 5f 73 74 61 74 69 63 2f 73 77 61 67 67 65 72 2d 75 69 2d 62 75 6e 64 6c 65 2e
## [6879] 6a 73 22 3e 20 3c 2f 73 63 72 69 70 74 3e 0a 20 20 20 20 3c 73 63 72 69 70 74 20 73 72 63 3d 22 2f 66 6c 61 73 67
## [6917] 67 65 72 5f 73 74 61 74 69 63 2f 73 77 61 67 67 65 72 2d 75 69 2d 73 74 61 6e 64 61 6c 6f 6e 65 2d 70 72 65 73 65
## [6955] 74 2e 6a 73 22 3e 20 3c 2f 73 63 72 69 70 74 3e 0a 20 20 20 20 3c 73 63 72 69 70 74 20 73 72 63 3d 27 2f 66 6c 61
## [6993] 73 67 67 65 72 5f 73 74 61 74 69 63 2f 6c 69 62 2f 6a 71 75 65 72 79 2e 6d 69 6e 2e 6a 73 27 20 74 79 70 65 3d 27
## [7031] 74 65 78 74 2f 6a 61 76 61 73 63 72 69 70 74 27 3e 3c 2f 73 63 72 69 70 74 3e 0a 20 20 20 20 3c 73 63 72 69 70 74
## [7069] 3e 0a 0a 20 20 20 20 20 20 20 20 77 69 6e 64 6f 77 2e 6f 6e 6c 6f 61 64 20 3d 20 66 75 6e 63 74 69 6f 6e 20 28 29
## [7107] 20 7b 0a 20 20 20 20 20 20 20 20 20 20 20 20 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 66 65 74 63 68 28 22 2f 73
## [7145] 70 65 63 2e 6a 73 6f 6e 22 29 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2e 74 68 65 6e 28 66 75 6e 63 74
## [7183] 69 6f 6e 20 28 72 65 73 70 6f 6e 73 65 29 20 7b 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 72
## [7221] 65 73 70 6f 6e 73 65 2e 6a 73 6f 6e 28 29 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [7259] 20 2e 74 68 65 6e 28 66 75 6e 63 74 69 6f 6e 20 28 6a 73 6f 6e 29 20 7b 0a 20 20 20 20 20 20 20 20 20 20 20 20 20
## [7297] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 63 75 72 72 65 6e 74 5f 70 72 6f 74 6f 63 6f 6c 20 3d 20
## [7335] 77 69 6e 64 6f 77 2e 6c 6f 63 61 74 69 6f 6e 2e 70 72 6f 74 6f 63 6f 6c 2e 73 6c 69 63 65 28 30 2c 20 2d 31 29 3b
## [7373] 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 69 66 20 28 6a 73 6f 6e 2e
## [7411] 73 63 68 65 6d 65 73 5b 30 5d 20 21 3d 20 63 75 72 72 65 6e 74 5f 70 72 6f 74 6f 63 6f 6c 29 20 7b 0a 20 20 20 20
## [7449] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2f 2f 20 53 77 69 74 63 68 65
## [7487] 73 20 73 63 68 65 6d 65 20 74 6f 20 74 68 65 20 63 75 72 72 65 6e 74 20 69 6e 20 75 73 65 0a 20 20 20 20 20 20 20
## [7525] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 72 20 6f 74 68 65 72 5f 70 72 6f
## [7563] 74 6f 63 6f 6c 20 3d 20 6a 73 6f 6e 2e 73 63 68 65 6d 65 73 5b 30 5d 3b 0a 20 20 20 20 20 20 20 20 20 20 20 20 20
## [7601] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 6a 73 6f 6e 2e 73 63 68 65 6d 65 73 5b 30 5d 20 3d 20 63
## [7639] 75 72 72 65 6e 74 5f 70 72 6f 74 6f 63 6f 6c 3b 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [7677] 20 20 20 20 20 20 20 20 20 20 20 6a 73 6f 6e 2e 73 63 68 65 6d 65 73 5b 31 5d 20 3d 20 6f 74 68 65 72 5f 70 72 6f
## [7715] 74 6f 63 6f 6c 3b 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 7d 0a
## [7753] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 6a 73 6f 6e 2e 68 6f 73 74 20
## [7791] 3d 20 77 69 6e 64 6f 77 2e 6c 6f 63 61 74 69 6f 6e 2e 68 6f 73 74 3b 20 20 2f 2f 20 73 65 74 73 20 74 68 65 20 63
## [7829] 75 72 72 65 6e 74 20 68 6f 73 74 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [7867] 20 20 20 63 6f 6e 73 74 20 75 69 20 3d 20 53 77 61 67 67 65 72 55 49 42 75 6e 64 6c 65 28 7b 0a 20 20 20 20 20 20
## [7905] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 73 70 65 63 3a 20 6a 73 6f 6e 2c 0a
## [7943] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 76 61 6c 69 64 61
## [7981] 74 6f 72 55 72 6c 3a 20 6e 75 6c 6c 2c 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8019] 20 20 20 20 20 20 20 20 64 6f 6d 5f 69 64 3a 20 27 23 73 77 61 67 67 65 72 2d 75 69 27 2c 0a 20 20 20 20 20 20 20
## [8057] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 64 65 65 70 4c 69 6e 6b 69 6e 67 3a 20
## [8095] 74 72 75 65 2c 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8133] 6a 73 6f 6e 45 64 69 74 6f 72 3a 20 74 72 75 65 2c 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8171] 20 20 20 20 20 20 20 20 20 20 20 20 64 6f 63 45 78 70 61 6e 73 69 6f 6e 3a 20 22 6e 6f 6e 65 22 2c 0a 20 20 20 20
## [8209] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 61 70 69 73 53 6f 72 74 65 72
## [8247] 3a 20 22 61 6c 70 68 61 22 2c 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8285] 20 20 20 20 20 2f 2f 6f 70 65 72 61 74 69 6f 6e 73 53 6f 72 74 65 72 3a 20 22 61 6c 70 68 61 22 2c 0a 20 20 20 20
## [8323] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 70 72 65 73 65 74 73 3a 20 5b
## [8361] 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 53
## [8399] 77 61 67 67 65 72 55 49 42 75 6e 64 6c 65 2e 70 72 65 73 65 74 73 2e 61 70 69 73 2c 0a 20 20 20 20 20 20 20 20 20
## [8437] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 2f 2f 20 79 61 79 20 45 53 36 20
## [8475] 6d 6f 64 75 6c 65 73 20 e2 86 98 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8513] 20 20 20 20 20 20 20 20 20 20 41 72 72 61 79 2e 69 73 41 72 72 61 79 28 53 77 61 67 67 65 72 55 49 53 74 61 6e 64
## [8551] 61 6c 6f 6e 65 50 72 65 73 65 74 29 20 3f 20 53 77 61 67 67 65 72 55 49 53 74 61 6e 64 61 6c 6f 6e 65 50 72 65 73
## [8589] 65 74 20 3a 20 53 77 61 67 67 65 72 55 49 53 74 61 6e 64 61 6c 6f 6e 65 50 72 65 73 65 74 2e 64 65 66 61 75 6c 74
## [8627] 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 5d 2c 0a 20 20
## [8665] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 70 6c 75 67 69 6e 73 3a
## [8703] 20 5b 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [8741] 20 53 77 61 67 67 65 72 55 49 42 75 6e 64 6c 65 2e 70 6c 75 67 69 6e 73 2e 44 6f 77 6e 6c 6f 61 64 55 72 6c 0a 20
## [8779] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 5d 2c 0a 20 20 20 20
## [8817] 20 20 20 20 20 20 20 20 0a 20 20 20 20 20 20 20 20 20 20 20 20 2f 2f 20 6c 61 79 6f 75 74 3a 20 22 53 74 61 6e 64
## [8855] 61 6c 6f 6e 65 4c 61 79 6f 75 74 22 20 20 2f 2f 20 75 6e 63 6f 6d 6d 65 6e 74 20 74 6f 20 65 6e 61 62 6c 65 20 74
## [8893] 68 65 20 67 72 65 65 6e 20 74 6f 70 20 68 65 61 64 65 72 0a 20 20 20 20 20 20 20 20 7d 29 0a 0a 20 20 20 20 20 20
## [8931] 20 20 77 69 6e 64 6f 77 2e 75 69 20 3d 20 75 69 0a 0a 20 20 20 20 20 20 20 20 2f 2f 20 75 6e 63 6f 6d 6d 65 6e 74
## [8969] 20 74 6f 20 72 65 6e 61 6d 65 20 74 68 65 20 74 6f 70 20 62 72 61 6e 64 20 69 66 20 6c 61 79 6f 75 74 20 69 73 20
## [9007] 65 6e 61 62 6c 65 64 0a 20 20 20 20 20 20 20 20 2f 2f 20 24 28 22 2e 74 6f 70 62 61 72 2d 77 72 61 70 70 65 72 20
## [9045] 2e 6c 69 6e 6b 20 73 70 61 6e 22 29 2e 72 65 70 6c 61 63 65 57 69 74 68 28 22 3c 73 70 61 6e 3e 68 74 74 70 62 69
## [9083] 6e 3c 2f 73 70 61 6e 3e 22 29 3b 0a 20 20 20 20 20 20 20 20 7d 29 0a 20 20 20 20 7d 29 0a 7d 0a 20 20 20 20 3c 2f
## [9121] 73 63 72 69 70 74 3e 20 20 3c 64 69 76 20 63 6c 61 73 73 3d 27 73 77 61 67 67 65 72 2d 75 69 27 3e 0a 20 20 20 20
## [9159] 3c 64 69 76 20 63 6c 61 73 73 3d 22 77 72 61 70 70 65 72 22 3e 0a 20 20 20 20 20 20 20 20 3c 73 65 63 74 69 6f 6e
## [9197] 20 63 6c 61 73 73 3d 22 62 6c 6f 63 6b 20 63 6f 6c 2d 31 32 20 62 6c 6f 63 6b 2d 64 65 73 6b 74 6f 70 20 63 6f 6c
## [9235] 2d 31 32 2d 64 65 73 6b 74 6f 70 22 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 64 69 76 3e 0a 0a 20 20 20 20 20
## [9273] 20 20 20 20 20 20 20 20 20 20 20 3c 68 32 3e 4f 74 68 65 72 20 55 74 69 6c 69 74 69 65 73 3c 2f 68 32 3e 0a 0a 20
## [9311] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 75 6c 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
## [9349] 20 20 3c 6c 69 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 61 20 68 72 65 66
## [9387] 3d 22 2f 66 6f 72 6d 73 2f 70 6f 73 74 22 3e 48 54 4d 4c 20 66 6f 72 6d 3c 2f 61 3e 20 74 68 61 74 20 70 6f 73 74
## [9425] 73 20 74 6f 20 2f 70 6f 73 74 20 2f 66 6f 72 6d 73 2f 70 6f 73 74 3c 2f 6c 69 3e 0a 20 20 20 20 20 20 20 20 20 20
## [9463] 20 20 20 20 20 20 3c 2f 75 6c 3e 0a 0a 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 62 72 20 2f 3e 0a 20 20
## [9501] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 3c 62 72 20 2f 3e 0a 20 20 20 20 20 20 20 20 20 20 20 20 3c 2f 64 69 76
## [9539] 3e 0a 20 20 20 20 20 20 20 20 3c 2f 73 65 63 74 69 6f 6e 3e 0a 20 20 20 20 3c 2f 64 69 76 3e 0a 3c 2f 64 69 76 3e
## [9577] 0a 3c 2f 62 6f 64 79 3e 0a 0a 3c 2f 68 74 6d 6c 3e
## 
## attr(,"class")
## [1] "http_response" "list"
```

### URLs

``` r
c(
  "git+ssh://example.com/path/file",
  "https://example.com/path/file",
  "http://www.example.com/dir/subdir?param=1&param=2;param%20=%20#fragment",
  "http://www.example.com",
  "http://username@www.example.com/dir/subdir?param=1&param=2;param%20=%20#fragment",
  "http://username:passwd@www.example.com/dir/subdir?param=1&param=2;param%20=%20#fragment",
  "http://www.example.com:8080/dir/subdir?param=1&param=2;param%20=%20#fragment",
  "http://username:passwd@www.example.com:8080/dir/subdir?param=1&param=2;param%20=%20#fragment",
  "ftp://username:passwd@ftp.example.com/dir/filename.ext",
  "mailto:username@example.com",
  "svn+ssh://hostname-01.org/path/to/file",
  "xddp::://///blah.wat/?"
) -> turls

parse_url(turls)
##     scheme username password        hostname port              path                        query fragment
## 1  git+ssh                       example.com             /path/file                                      
## 2    https                       example.com             /path/file                                      
## 3     http                   www.example.com            /dir/subdir param=1&param=2;param%20=%20 fragment
## 4     http                   www.example.com                      /                                      
## 5     http username          www.example.com            /dir/subdir param=1&param=2;param%20=%20 fragment
## 6     http username   passwd www.example.com            /dir/subdir param=1&param=2;param%20=%20 fragment
## 7     http                   www.example.com 8080       /dir/subdir param=1&param=2;param%20=%20 fragment
## 8     http username   passwd www.example.com 8080       /dir/subdir param=1&param=2;param%20=%20 fragment
## 9      ftp username   passwd ftp.example.com      /dir/filename.ext                                      
## 10  mailto username              example.com                      /                                      
## 11 svn+ssh                   hostname-01.org          /path/to/file                                      
## 12    <NA>     <NA>     <NA>            <NA> <NA>              <NA>                         <NA>     <NA>

microbenchmark::microbenchmark(
  parse_url = parse_url(turls[1])
)
## Unit: microseconds
##       expr     min      lq     mean   median      uq     max neval
##  parse_url 347.375 369.049 524.2374 444.6555 575.194 1510.58   100
```

### Parse headers from Palo Alto `HEAD` requests

``` r
hdr <- read_file_raw(system.file("extdat", "example.hdr", package = "construe"))

cat(rawToChar(hdr))
## HTTP/1.1 200 OK
## Date: Mon, 13 Jul 2020 11:23:49 GMT
## Content-Type: text/html; charset=UTF-8
## Content-Length: 11757
## Connection: keep-alive
## ETag: "6e185d1cea69"
## Pragma: no-cache
## Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
## Expires: Thu, 19 Nov 1981 08:52:00 GMT
## X-FRAME-OPTIONS: DENY
## Set-Cookie: PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## Set-Cookie: PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## Set-Cookie: PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## Set-Cookie: PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## Set-Cookie: PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## Strict-Transport-Security: max-age=31536000;
## X-XSS-Protection: 1; mode=block;
## X-Content-Type-Options: nosniff
## Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline'; img-src * data:; style-src 'self' 'unsafe-inline';
## 

parse_response_raw(hdr)
## $status_msg
## [1] "OK"
## 
## $status_code
## [1] 200
## 
## $vers_maj
## [1] 1
## 
## $vers_min
## [1] 0
## 
## $keepalive
## [1] TRUE
## 
## $headers
##                         name
## 1                       date
## 2               content-type
## 3             content-length
## 4                 connection
## 5                       etag
## 6                     pragma
## 7              cache-control
## 8                    expires
## 9            x-frame-options
## 10                set-cookie
## 11                set-cookie
## 12                set-cookie
## 13                set-cookie
## 14                set-cookie
## 15 strict-transport-security
## 16          x-xss-protection
## 17    x-content-type-options
## 18   content-security-policy
##                                                                                                        value
## 1                                                                              Mon, 13 Jul 2020 11:23:49 GMT
## 2                                                                                   text/html; charset=UTF-8
## 3                                                                                                      11757
## 4                                                                                                 keep-alive
## 5                                                                                             "6e185d1cea69"
## 6                                                                                                   no-cache
## 7                                             no-store, no-cache, must-revalidate, post-check=0, pre-check=0
## 8                                                                              Thu, 19 Nov 1981 08:52:00 GMT
## 9                                                                                                       DENY
## 10                                      PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## 11                                      PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## 12                                      PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## 13                                      PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## 14                                      PHPSESSID=d242c76e2e6ad2e71dd0c524c63e66d0; path=/; secure; HttpOnly
## 15                                                                                         max-age=31536000;
## 16                                                                                            1; mode=block;
## 17                                                                                                   nosniff
## 18 default-src 'self'; script-src 'self' 'unsafe-inline'; img-src * data:; style-src 'self' 'unsafe-inline';
## 
## $content
## raw(0)
## 
## attr(,"class")
## [1] "http_response" "list"
```

## construe Metrics

| Lang         | \# Files |  (%) |  LoC |  (%) | Blank lines |  (%) | \# Lines |  (%) |
| :----------- | -------: | ---: | ---: | ---: | ----------: | ---: | -------: | ---: |
| C/C++ Header |        5 | 0.21 | 1556 | 0.40 |         122 | 0.23 |       66 | 0.12 |
| C++          |        2 | 0.08 |  300 | 0.08 |          95 | 0.18 |       95 | 0.17 |
| Rmd          |        1 | 0.04 |   68 | 0.02 |          43 | 0.08 |       47 | 0.08 |
| R            |        3 | 0.12 |   22 | 0.01 |           9 | 0.02 |       74 | 0.13 |
| YAML         |        1 | 0.04 |   22 | 0.01 |           2 | 0.00 |        2 | 0.00 |
| SUM          |       12 | 0.50 | 1968 | 0.50 |         271 | 0.50 |      284 | 0.50 |

clock Package Metrics for construe

## Code of Conduct

Please note that this project is released with a Contributor Code of
Conduct. By participating in this project you agree to abide by its
terms.
